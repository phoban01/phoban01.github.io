!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){!function(){"use strict";function e(e){let t=0,n=1,r=1;return{curr:(n=0)=>e[t+n],end:()=>e.length<=t,info:()=>({index:t,col:n,line:r}),index:e=>void 0===e?t:t=e,next:()=>{let s=e[t++];return"\n"==s?(r++,n=0):n++,s}}}var t=t=>{t=t.trim();let n=[];if(!/^var\(/.test(t))return n;let r=e(t);try{n=function(e){let t="",n=[],r=[],s={};for(;!e.end();){let i=e.curr();if("("==i)n.push(i),t="";else if(")"==i||","==i){if(/^\-\-.+/.test(t)&&(s.name?(s.alternative||(s.alternative=[]),s.alternative.push({name:t})):s.name=t),")"==i){if("("!=n[n.length-1])throw new Error("bad match");n.pop()}","==i&&(n.length||(r.push(s),s={})),t=""}else/\s/.test(i)||(t+=i);e.next()}return n.length?[]:(s.name&&r.push(s),r)}(r)}catch(e){}return n};const n={func:(e="")=>({type:"func",name:e,arguments:[]}),argument:()=>({type:"argument",value:[]}),text:(e="")=>({type:"text",value:e}),comment:e=>({type:"comment",value:e}),psuedo:(e="")=>({type:"psuedo",selector:e,styles:[]}),cond:(e="")=>({type:"cond",name:e,styles:[],arguments:[]}),rule:(e="")=>({type:"rule",property:e,value:[]}),keyframes:(e="")=>({type:"keyframes",name:e,steps:[]}),step:(e="")=>({type:"step",name:e,styles:[]})},r={"(":")","[":"]","{":"}"},s={white_space:e=>/[\s\n\t]/.test(e),line_break:e=>/\n/.test(e),open_bracket:e=>r.hasOwnProperty(e),close_bracket_of(e){let t=r[e];return e=>e==t},number:e=>!isNaN(e)};function i(e,{col:t,line:n}){throw new Error(`(at line ${n}, column ${t}) ${e}`)}function l(e){return e.trim().length?s.number(+e)?+e:e.trim():e}function u(e){let[t,n]=[e.curr(),e.curr()],r=s.close_bracket_of(n);for(e.next();!e.end();){if(r(n=e.curr())){t+=n;break}s.open_bracket(n)?t+=u(e):t+=n,e.next()}return t}function o(e){return function(t,n){let r=t.index(),s="";for(;!t.end();){let n=t.next();if(e(n))break;s+=n}return n&&t.index(r),s}}function a(e,t){return o(e=>s.white_space(e))(e,t)}function c(e,t){return o(e=>s.line_break(e)||"{"==e)(e,t)}function h(e,t){let r,i=n.step();for(;!e.end()&&"}"!=(r=e.curr());)if(s.white_space(r))e.next();else{if(i.name.length){if(i.styles.push($(e,t)),"}"==e.curr())break}else i.name=b(e);e.next()}return i}function p(e,t){const n=[];let r;for(;!e.end()&&"}"!=(r=e.curr());)s.white_space(r)?e.next():(n.push(h(e,t)),e.next());return n}function f(e,t){let r,s=n.keyframes();for(;!e.end()&&"}"!=(r=e.curr());)if(s.name.length){if("{"==r){e.next(),s.steps=p(e,t);break}e.next()}else if(a(e),s.name=a(e),"{"==s.name){i("missing keyframes name",e.info());break}return s}function m(e,t={}){let r=n.comment(),s=e.curr();for("#"!=s&&e.next(),e.next();!e.end()&&("*"!=(s=e.curr())||"/"!=e.curr(1));){if(r.value+=s,s=e.curr(),t.inline){if("\n"==s)return r}else if("*"==s&&"/"==e.curr(1))break;r.value+=s,e.next()}return e.next(),e.next(),r}function d(e){let t,n="";for(;!e.end()&&":"!=(t=e.curr());)s.white_space(t)||(n+=t),e.next();return n}function g(e,t){let n,r="";for(e.next();!e.end();){if((n=e.curr())==t){if("\\"!==e.curr(-1))break;r+=n}else r+=n;e.next()}return r}function y(e,t){let r,i=[],o=[],a="";for(;!e.end();){if(s.open_bracket(r=e.curr()))a+=u(e);else if(/['"]/.test(r))a+=t?r+g(e,r)+r:g(e,r);else if("@"==r)o.length||(a=a.trimLeft()),a.length&&(o.push(n.text(a)),a=""),o.push(_(e));else if(/[,)]/.test(r)){if(a.length&&(o.length?(a=a.trimRight()).length&&o.push(n.text(a)):o.push(n.text(l(a)))),i.push(o.slice()),[o,a]=[[],""],")"==r)break}else a+=r;e.next()}return i}function _(e){let t,r=n.func(),s="";for(;!e.end()&&")"!=(t=e.curr());){if("("==t){e.next(),r.name=s,r.arguments=y(e,"@svg"==s);break}s+=t,e.next()}return r}function x(e){let t,r=n.text();const l=[];for(;!e.end();)if("\n"!=(t=e.curr())){if(/[;}]/.test(t)){r.value.length&&l.push(r),r=n.text();break}"@"==t?(r.value.length&&l.push(r),r=n.text(),l.push(_(e))):s.white_space(t)&&s.white_space(e.curr(-1))||(":"==t&&i("Syntax error: Bad property name.",e.info()),r.value+=t),e.next()}else e.next();return r.value.length&&l.push(r),l.length&&l[0].value&&(l[0].value=l[0].value.trimLeft()),l}function b(e){let t,n="";for(;!e.end()&&"{"!=(t=e.curr());)s.white_space(t)||(n+=t),e.next();return n}function v(e){let t,n={name:"",arguments:[]};for(;!e.end();){if("("==(t=e.curr()))e.next(),n.arguments=y(e);else{if(/[){]/.test(t))break;s.white_space(t)||(n.name+=t)}e.next()}return n}function k(e,t){let r,i=n.psuedo();for(;!e.end()&&"}"!=(r=e.curr());)if(s.white_space(r))e.next();else{if(i.selector){let n=$(e,t);if("@use"==n.property?i.styles=i.styles.concat(n.value):i.styles.push(n),"}"==e.curr())break}else i.selector=b(e);e.next()}return i}function $(e,t){let r,s=n.rule();for(;!e.end()&&";"!=(r=e.curr());){if(s.property.length){s.value=x(e);break}if(s.property=d(e),"@use"==s.property){s.value=j(e,t);break}e.next()}return s}function w(e,t){let r,i=n.cond();for(;!e.end()&&"}"!=(r=e.curr());){if(i.name.length)if(":"==r){let t=k(e);t.selector&&i.styles.push(t)}else if("@"!=r||c(e,!0).includes(":")){if(!s.white_space(r)){let n=$(e,t);if(n.property&&i.styles.push(n),"}"==e.curr())break}}else i.styles.push(w(e));else Object.assign(i,v(e));e.next()}return i}function z(e,t){let n="";return e&&e.get_custom_property_value&&(n=e.get_custom_property_value(t)),n}function j(e,n){e.next();let r=x(e);return function e(n,r){n.forEach(n=>{if("text"==n.type&&n.value){let e=t(n.value);n.value=e.reduce((e,t)=>{let n,s="",i="";!(s=z(r,t.name))&&t.alternative&&t.alternative.every(e=>{if(i=z(r,e.name))return s=i,!1});try{n=M(s,r)}catch(e){}return n&&e.push.apply(e,n),e},[])}"func"==n.type&&n.arguments&&n.arguments.forEach(t=>{e(t,r)})})}(r,n),r[0].value||[]}function M(t,n){const r=e(t),i=[];for(;!r.end();){let e=r.curr();if(s.white_space(e))r.next();else{if("/"==e&&"*"==r.curr(1))i.push(m(r));else if("#"==e||"/"==e&&"/"==r.curr(1))i.push(m(r,{inline:!0}));else if(":"==e){let e=k(r,n);e.selector&&i.push(e)}else if("@"==e&&"@keyframes"===a(r,!0)){let e=f(r,n);i.push(e)}else if("@"!=e||c(r,!0).includes(":")){if(!s.white_space(e)){let e=$(r,n);e.property&&i.push(e)}}else{let e=w(r,n);e.name.length&&i.push(e)}r.next()}}return i}const O="\n  % cm ch fr rem em ex in mm pc pt px\n  vh vw vmax vmin vi vb\n  deg grad rad turn\n  dpi dpcm dppx\n  ms s\n  ic cap\n  Hz kHz\n  lh rlh\n  Q\n",A=new RegExp(`(${O.trim().split(/[\s\n]+/).join("|")})$`);function S(e){if(!e)return"";let t="".trim.call(e).match(A);return t?t[0]:""}function T(e){let t=S(e);return t?+e.replace(t,""):e}function E(e,...t){return t.reduce((e,t)=>e.apply(null,function(e){return Array.isArray(e)?e:Object.keys(e).map(t=>e[t])}(t)),e)}function H(e){return(e||[]).join("\n")}function L(e,t,n){return Math.max(t,Math.min(n,e))}function C(e){return`-webkit-${e} ${e}`}const P={};function N(e,t){return(...n)=>{let r=e+n.join("-");return P[r]?P[r]:P[r]=t.apply(null,n)}}function R(...e){let t=e.reduce((e,t)=>e.concat(t),[]);return t[Math.floor(Math.random()*t.length)]}function q(e,t,n){let r=0,s=e,i=e=>e>0&&e<1?.1:1,l=arguments.length;1==l&&([e,t]=[i(e),e]),l<3&&(n=i(e));let u=[];for(;(n>=0&&e<=t||n<0&&e>t)&&(u.push(e),e+=n,!(r++>=1e3)););return u.length||u.push(s),u}function W(e){return(...t)=>{let n=S(t[0]);return function(e,t){return(...n)=>{n=n.map(T);let r=e.apply(null,n);return t&&(r=r.map(e=>e+t)),r}}(e,n).apply(null,t)}}function Z(e){return(...t)=>{let n=t.map(e=>String(e).charCodeAt(0)),r=e.apply(null,n);return r.map(e=>String.fromCharCode(e))}}const[B,I,Q]=[1,32,1024];function V(e){let[t,n]=(e+"").replace(/\s+/g,"").replace(/[,，xX]+/,"x").split("x").map(Number);const r=1==t||1==n?Q:I,s={x:L(t||B,1,r),y:L(n||t||B,1,r)};return Object.assign({},s,{count:s.x*s.y})}const{cos:X,sin:D,sqrt:F,pow:G,PI:J}=Math,K=J/180;function U(e,t){"function"==typeof arguments[0]&&(t=e,e={}),t||(t=(e=>[X(e),D(e)]));let n=e.split||120,r=e.scale||1,s=K*(e.start||0),i=e.deg?e.deg*K:J/(n/2),l=[];for(let e=0;e<n;++e){let n=s+i*e,[u,o]=t(n);l.push(50*u*r+50+"% "+(50*o*r+50)+"%")}return e.type?`polygon(${e.type}, ${l.join(",")})`:`polygon(${l.join(",")})`}function Y(e,t,n){let r=K*n;return[e*X(r)-t*D(r),t*X(r)+e*D(r)]}const ee={circle:()=>"circle(49%)",triangle:()=>U({split:3,start:-90},e=>[1.1*X(e),1.1*D(e)+.2]),rhombus:()=>U({split:4}),pentagon:()=>U({split:5,start:54}),hexgon:()=>U({split:6,start:30}),hexagon:()=>U({split:6,start:30}),heptagon:()=>U({split:7,start:-90}),octagon:()=>U({split:8,start:22.5}),star:()=>U({split:5,start:54,deg:144}),diamond:()=>"polygon(50% 5%, 80% 50%, 50% 95%, 20% 50%)",cross:()=>"polygon(\n      5% 35%,  35% 35%, 35% 5%,  65% 5%,\n      65% 35%, 95% 35%, 95% 65%, 65% 65%,\n      65% 95%, 35% 95%, 35% 65%, 5% 65%\n    )",clover:(e=3)=>(4==(e=L(e,3,5))&&(e=2),U({split:240},t=>{let n=X(e*t)*X(t),r=X(e*t)*D(t);return 3==e&&(n-=.2),2==e&&(n/=1.1,r/=1.1),[n,r]})),hypocycloid(e=3){let t=1-(e=L(e,3,6));return U({scale:1/e},n=>{let r=t*X(n)+X(t*(n-J)),s=t*D(n)+D(t*(n-J));return 3==e&&(r=1.1*r-.6,s*=1.1),[r,s]})},astroid:()=>ee.hypocycloid(4),infinity:()=>U(e=>{let t=.7*F(2)*X(e),n=G(D(e),2)+1;return[t/n,t*D(e)/n]}),heart:()=>U(e=>{let t=.75*G(D(e),3),n=X(1*e)*(13/18)-X(2*e)*(5/18)-X(3*e)/18-X(4*e)/18;return Y(1.2*t,1.1*(n+.2),180)}),bean:()=>U(e=>{let[t,n]=[G(D(e),3),G(X(e),3)];return Y((t+n)*X(e)*1.3-.45,(t+n)*D(e)*1.3-.45,-90)}),bicorn:()=>U(e=>Y(X(e),G(D(e),2)/(2+D(e))-.5,180)),pear:()=>U(e=>[D(e),(1+D(e))*X(e)/1.4]),fish:()=>U(e=>[X(e)-G(D(e),2)/F(2),D(2*e)/2]),whale:()=>U({split:240},e=>{let t=3.4*(G(D(e),2)-.5)*X(e);return Y(X(e)*t+.75,D(e)*t*1.2,180)}),bud:(e=3)=>(e=L(e,3,10),U({split:240},t=>[(1+.2*X(e*t))*X(t)*.8,(1+.2*X(e*t))*D(t)*.8])),alien(...e){let[t=1,n=1,r=1,s=1,i=1]=e.map(e=>L(e,1,9));return U({split:480,type:"evenodd"},e=>[.31*(X(e*t)+X(e*r)+X(e*i)),.31*(D(e*n)+D(e*s)+D(e))])}};function te(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}}function ne(e){const t=function(e){const t=[],n=[];let r="";const s={"*":3,"/":3,"+":2,"-":2,"(":1,")":1},i=e=>e[e.length-1];for(let l of String(e))if(/[\d.]/.test(l))r+=l;else if(r.length&&(n.push(r),r=""),s[l])if("("==l)t.push(l);else if(")"==l){for(;t.length&&"("!=i(t);)n.push(t.pop());t.pop()}else{for(;t.length&&s[i(t)]>=s[l];){let e=t.pop();/[()]/.test(e)||n.push(e)}t.push(l)}for(r.length&&n.push(r);t.length;)n.push(t.pop());return n}(e),n=[];for(;t.length;){let e=t.shift();if(/\d+/.test(e))n.push(e);else{let t=n.pop(),r=n.pop();n.push(te(e,Number(r),Number(t)))}}return n[0]}var re={index:(e,t,n)=>e=>n,row:(e,t,n)=>t=>e,col:(e,t,n)=>e=>t,size:(e,t,n,r)=>e=>r.count,"max-row":(e,t,n,r)=>e=>r.x,"max-col":(e,t,n,r)=>e=>r.y,pick:()=>(...e)=>R(e),repeat:function(e){let t=()=>e;return t.lazy=!0,t}((e,t)=>{let n="";if(!t||!e)return n;let r=e();for(let e=0;e<r;++e)n+=t();return n}),rand:()=>(...e)=>{let[t,n]=e,r=W,s=/^[a-zA-Z]$/.test(t)&&/^[a-zA-Z]$/.test(n);return s&&(r=Z),R(N("range",r(q)).apply(null,e))},shape:()=>N("shape",(e="",...t)=>{if(e=e.trim(),ee[e])return ee[e].apply(null,t)}),calc:()=>e=>ne(e),hex:()=>e=>Number(e).toString(16),svg:()=>e=>{e.includes("xmlns")||(e=e.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" '));let t="";try{t=window.btoa(e)}catch(e){}let n='url("data:image/svg+xml;base64,'+t+'")';if(t)return n}};const se=e=>/[,，\s]/.test(e);function ie(e){for(;!e.end()&&se(e.curr(1));)e.next()}function le(t){const n=e(t),r=[],s=[];let i="";for(;!n.end();){let e=n.curr();"("==e?(i+=e,s.push(e)):")"==e?(i+=e,s.length&&s.pop()):s.length?i+=e:se(e)?(r.push(i),i="",ie(n)):i+=e,n.next()}return i&&r.push(i),r}var ue={"@size"(e,{is_special_selector:t}){let[n,r=n]=le(e);return`\n      width: ${n};\n      height: ${r};\n      ${t?"":`\n        --internal-cell-width: ${n};\n        --internal-cell-height: ${r};\n      `}\n    `},size(e,t){return this["@size"](e,t)},"@min-size"(e){let[t,n=t]=le(e);return`min-width: ${t}; min-height: ${n};`},"min-size"(e){return this["@min-size"](e)},"@max-size"(e){let[t,n=t]=le(e);return`max-width: ${t}; max-height: ${n};`},"max-size"(e){return this["@max-size"](e)},"@place-cell"(e){let[t,n=t]=le(e);(/^(top|bottom)$/.test(t)||/^(left|right)$/.test(n))&&([t,n]=[n,t]);const r={center:"50%",0:"0%",left:"0%",right:"100%",top:"0%",bottom:"100%"};return`\n      position: absolute;\n      right: -100vmax; bottom: -100vmax;\n      left: calc(-100vmax - 100% + ${t=r[t]||t} * 2);\n      top: calc(-100vmax - 100% + ${n=r[n]||n} * 2);\n      width: var(--internal-cell-width, 25%);\n      height: var(--internal-cell-height, 25%);\n      grid-area: unset !important;\n      margin: auto !important;\n    `},"@grid"(e,t){let[n,r]=e.split("/").map(e=>e.trim());return{grid:V(n),size:r?this["@size"](r,t):""}},"@shape":N("shape-property",function(e){let[t,...n]=le(e);return ee[t]?C(`clip-path: ${ee[t].apply(null,n)};`)+"overflow: hidden;":""}),"@use":e=>e};const oe={even:e=>!!(e%2),odd:e=>!(e%2)};var ae={nth:(e,t,n)=>e=>e==n,at:(e,t)=>(n,r)=>e==n&&t==r,row:(e,t)=>t=>/^(even|odd)$/.test(t)?oe[t](e-1):t==e,col:(e,t)=>e=>/^(even|odd)$/.test(e)?oe[e](t-1):e==t,even:(e,t,n)=>e=>oe.even(n-1),odd:(e,t,n)=>e=>oe.odd(n-1),random:()=>e=>Math.random()<.5},ce=Object.getOwnPropertyNames(Math).reduce((e,t)=>(e[t]=(()=>(...e)=>"number"==typeof Math[t]?Math[t]:Math[t].apply(null,e.map(ne))),e),{});function he(e){return/^\:(host|doodle)/.test(e)}function pe(e){return/^\:(container|parent)/.test(e)}function fe(e){return he(e)||pe(e)}class me{constructor(e){this.tokens=e,this.rules={},this.props={},this.keyframes={},this.grid=null,this.coords=[],this.reset()}reset(){this.styles={host:"",container:"",cells:"",keyframes:""},this.coords=[];for(let e in this.rules)e.startsWith(".cell")&&delete this.rules[e]}add_rule(e,t){let n=this.rules[e];n||(n=this.rules[e]=[]),n.push.apply(n,function(e){return Array.isArray(e)?e:[e]}(t))}pick_func(e){return re[e]||ce[e]}compose_aname(...e){return e.join("-")}compose_selector(e,t=""){return`.cell:nth-of-type(${e})${t}`}compose_argument(e,t){let n=e.map(e=>{if("text"==e.type)return e.value;if("func"==e.type){let n=this.pick_func(e.name.substr(1));if(n){let r=e.arguments.map(e=>this.compose_argument(e,t));return E(n,t,r)}}});return n.length>=2?n.join(""):n[0]}compose_value(e,t){return e?e.reduce((e,n)=>{switch(n.type){case"text":e+=n.value;break;case"func":{let r=n.name.substr(1),s=this.pick_func(r);if(s){let r=n.arguments.map(e=>s.lazy?()=>this.compose_argument(e,t):this.compose_argument(e,t));e+=E(s,t,r)}}}return e},""):""}compose_rule(e,t,n){let r=e.property,s=this.compose_value(e.value,t),i=`${r}: ${s};`;if("transition"==r&&(this.props.has_transition=!0),"mask"!=r&&"clip-path"!=r||(i=C(i)),"clip-path"==r&&(i+=";overflow: hidden;"),"width"!=r&&"height"!=r||fe(n)||(i+=`--internal-cell-${r}: ${s};`),/^animation(\-name)?$/.test(r)&&(this.props.has_animation=!0,t.count>1)){let{count:e}=t;switch(r){case"animation-name":i=`${r}: ${this.compose_aname(s,e)};`;break;case"animation":{let t=(s||"").split(/\s+/);t[0]=this.compose_aname(t[0],e),i=`${r}: ${t.join(" ")};`}}}if(ue[r]){let l=ue[r](s,{is_special_selector:fe(n)});switch(r){case"@grid":he(n)&&(this.grid=l.grid,i=l.size||"");break;case"@place-cell":he(n)||(i=l);case"@use":e.value.length&&this.compose(t,e.value),i=ue[r](e.value);default:i=l}}return i}compose(e,t){this.coords.push(e),(t||this.tokens).forEach((t,n)=>{if(t.skip)return!1;switch(t.type){case"rule":this.add_rule(this.compose_selector(e.count),this.compose_rule(t,e));break;case"psuedo":{t.selector.startsWith(":doodle")&&(t.selector=t.selector.replace(/^\:+doodle/,":host"));let n=fe(t.selector);n&&(t.skip=!0);let r=t.styles.map(n=>this.compose_rule(n,e,t.selector)),s=n?t.selector:this.compose_selector(e.count,t.selector);this.add_rule(s,r);break}case"cond":{let n=ae[t.name.substr(1)];if(n){let r=t.arguments.map(t=>this.compose_argument(t,e)),s=E(n,e,r);s&&this.compose(e,t.styles)}break}case"keyframes":this.keyframes[t.name]||(this.keyframes[t.name]=(e=>`\n              ${H(t.steps.map(t=>`\n                ${t.name} {\n                  ${H(t.styles.map(t=>this.compose_rule(t,e)))}\n                }\n              `))}\n            `))}})}output(){Object.keys(this.rules).forEach((e,t)=>{if(pe(e))this.styles.container+=`\n          .container {\n            ${H(this.rules[e])}\n          }\n        `;else{let t=he(e)?"host":"cells";this.styles[t]+=`\n          ${e} {\n            ${H(this.rules[e])}\n          }\n        `}});let e=Object.keys(this.keyframes);return this.coords.forEach((t,n)=>{e.forEach(e=>{let r=this.compose_aname(e,t.count);this.styles.keyframes+=`\n          ${function(e,t){return e?t:""}(0==n,`@keyframes ${e} {\n              ${this.keyframes[e](t)}\n            }`)}\n          @keyframes ${r} {\n            ${this.keyframes[e](t)}\n          }\n        `})}),{props:this.props,styles:this.styles,grid:this.grid}}}function de(e,t){let n=new me(e);n.compose({x:1,y:1,count:1,grid:{x:1,y:1,count:1}});let{grid:r}=n.output();r&&(t=r),n.reset();for(let e=1,r=0;e<=t.x;++e)for(let s=1;s<=t.y;++s)n.compose({x:e,y:s,count:++r,grid:t});return n.output()}const ge="\n  :host {\n    display: block;\n    visibility: visible;\n    width: 1em;\n    height: 1em;\n  }\n  .container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: grid;\n  }\n  .cell {\n    position: relative;\n    line-height: 1;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n";customElements.define("css-doodle",class extends HTMLElement{constructor(){super(),this.doodle=this.attachShadow({mode:"open"}),this.extra={get_custom_property_value:this.get_custom_property_value.bind(this)}}connectedCallback(){setTimeout(()=>{let e,t=this.getAttribute("use")||"";if(t&&(t=`@use:${t};`),!this.innerHTML.trim()&&!t)return!1;try{let n=M(t+this.innerHTML,this.extra);this.grid_size=V(this.getAttribute("grid")),(e=de(n,this.grid_size)).grid&&(this.grid_size=e.grid)}catch(e){throw this.innerHTML="",new Error(e)}this.build_grid(e)})}get_custom_property_value(e){return getComputedStyle(this).getPropertyValue(e).trim().replace(/^\(|\)$/g,"")}build_grid(e){const{has_transition:t,has_animation:n}=e.props,{keyframes:r,host:s,container:i,cells:l}=e.styles;this.doodle.innerHTML=`\n      <style>${ge}</style>\n      <style class="style-keyframes">\n        ${r}\n      </style>\n      <style class="style-container">\n        ${this.style_size()}\n        ${s}\n        ${i}\n      </style>\n      <style class="style-cells">\n        ${t||n?"":l}\n      </style>\n      <div class="container">\n        ${this.html_cells()}\n      </div>\n    `,(t||n)&&setTimeout(()=>{this.set_style(".style-cells",l)},50)}style_size(){return`\n      .container {\n        grid-template-rows: repeat(${this.grid_size.x}, 1fr);\n        grid-template-columns: repeat(${this.grid_size.y}, 1fr);\n      }\n    `}html_cells(){return'<div class="cell"></div>'.repeat(this.grid_size.count)}set_style(e,t){const n=this.shadowRoot.querySelector(e);n&&(n.styleSheet?n.styleSheet.cssText=t:n.innerHTML=t)}update(e){let t=this.getAttribute("use")||"";t&&(t=`@use:${t};`),e||(e=this.innerHTML),this.innerHTML=e,this.grid_size||(this.grid_size=V(this.getAttribute("grid")));const n=de(M(t+e,this.extra),this.grid_size);if(n.grid){let{x:e,y:t}=n.grid;if(this.grid_size.x!==e||this.grid_size.y!==t)return Object.assign(this.grid_size,n.grid),this.build_grid(n);Object.assign(this.grid_size,n.grid)}else{let n=V(this.getAttribute("grid")),{x:r,y:s}=n;if(this.grid_size.x!==r||this.grid_size.y!==s)return Object.assign(this.grid_size,n),this.build_grid(de(M(t+e,this.extra),this.grid_size))}this.set_style(".style-keyframes",n.styles.keyframes),this.set_style(".style-container",this.style_size()+n.styles.host+n.styles.container),this.set_style(".style-cells",n.styles.cells)}get grid(){return Object.assign({},this.grid_size)}set grid(e){this.setAttribute("grid",e),this.connectedCallback()}get use(){return this.getAttribute("use")}set use(e){this.setAttribute("use",e),this.connectedCallback()}static get observedAttributes(){return["grid","use"]}attributeChangedCallback(e,t,n){if(t==n)return!1;"grid"==e&&t&&(this.grid_size=n),"use"==e&&t&&(this.use=n)}})}()},function(e,t,n){"use strict";n.r(t);n(0)}]);